<template>
    <lightning-card>
        <img style="height:40%; width:40%;" src={RImage}>
        <div class="spinner">
            <template if:true={IsLoading}>
                <lightning-spinner alternative-text="Loading" variant="brand" size="large">
                </lightning-spinner>
            </template>
        </div>
        <!---/Search -->
        <div class="slds-is-relative slds-p-horizontal_medium">
            <lightning-input type="search" placeholder="Search RevSpace" value={searchStageName} name="stageName"
                class="icon-right" onchange={handleSearchchange} minlength="3" onkeypress={handleSearchchange}>
            </lightning-input>
        </div>
        <br>
        <!---/Header Sales Plays -->
        <div class="myheader slds-page-header slds-m-horizontal_medium" style="background: lightblue;">
            <div class="slds-page-header__row">
                <div class="slds-page-header__col-title">
                    <div class="slds-media">
                        <div class="slds-media__figure">
                            <span class="slds-icon_container slds-icon-standard-opportunity" title="opportunity">
                            </span>
                        </div>
                        <div class="slds-media__body">
                            <div class="slds-page-header__name">
                                <div class="slds-page-header__name-title">
                                    <h1>
                                        <span class="slds-page-header__title slds-truncate"
                                            title="Rohde Corp - 80,000 Widgets">Sales Plays</span>
                                    </h1>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br>
        <div style="height:500px; overflow-x: hidden;">
            <template if:true={onsearchshowrecord}>
                <template for:each={records} for:item="ct">
                    <div key={ct.id}>
                        <div class="slds-grid slds-wrap" style="margin-top: 10px;">
                            <div class="slds-col slds-size_1-of-12">

                            </div>
                            <div class="slds-col slds-size_1-of-12">
                                <lightning-icon icon-name="standard:javascript_button">
                                </lightning-icon>
                            </div>
                            <div class="slds-col slds-size_8-of-12">
                                <div class="slds-text-heading_medium slds-m-left_x-medium">
                                    {ct.content_tags__c}
                                </div>
                            </div>
                            <div class="slds-col slds-size_2-of-12">
                                <lightning-button-icon icon-name={iconName1} variant="bare"
                                    alternative-text="chevrondown" onclick={playReducehandleClick}>
                                </lightning-button-icon>
                            </div>
                        </div>
                        <div class="slds-grid slds-wrap">
                            <div class="slds-col slds-size_2-of-12">

                            </div>
                            <div class="slds-col slds-size_2-of-12" style="color: #c9c7c5;">
                                <h3 class="header">
                                    Last Updated:
                                </h3>
                            </div>
                            <div class="slds-col slds-size_8-of-12" style="color: #c9c7c5;">
                                <lightning-formatted-date-time title="Last Updated" value={ct.time_last_edited__c}
                                    year="numeric" month="numeric" day="numeric" hour="2-digit" minute="2-digit"
                                    time-zone-name="short" time-zone="America/New_York">
                                </lightning-formatted-date-time>
                            </div>
                            <!-- <div class="slds-col slds-size_4-of-12" style="color: rgb(203, 189, 189);">
                                <h2 class="header">
                                    Last Updated:
                                </h2>
                            </div> -->
                            <!-- <div class="slds-col slds-size_4-of-12">
                                <lightning-formatted-date-time style="color: rgb(203, 189, 189);" title="Last Updated"
                                    value={ct.time_last_edited__c} year="numeric" month="numeric" day="numeric"
                                    hour="2-digit" minute="2-digit" time-zone-name="short" time-zone="America/New_York">
                                </lightning-formatted-date-time>
                            </div> -->
                        </div>
                        <div class="slds-grid slds-wrap slds-p-vertical_small">
                            <div class="slds-col slds-size_1-of-12">

                            </div>
                            <div class="slds-col slds-size_1-of-12 slds-p-horizontal_small">
                                <div class="slds-icon_container_circle slds-icon-standard-endorsement slds-icon_container"
                                    style="background-color: #fe8f60;">
                                    <lightning-icon icon-name="standard:endorsement" alternative-text="Like"
                                        size="x-small" title="large size"
                                        style="background-color:#fe8f60;"></lightning-icon>
                                </div>
                            </div>
                            <div
                                class="slds-col slds-size_1-of-12 slds-p-horizontal_small slds-m-left_small slds-m-top_xx-small">
                                {ct.thumbs_count__c}
                            </div>
                            <div class="slds-col slds-size_1-of-12 slds-p-horizontal_small">
                                <lightning-icon icon-name="action:announcement" size="xx-small"></lightning-icon>
                            </div>
                            <div
                                class="slds-col slds-size_1-of-12 slds-p-horizontal_small slds-m-left_small slds-m-top_xx-small">
                                {ct.recommended_count__c}
                            </div>
                            <div class="slds-col slds-size_1-of-12 slds-p-horizontal_small">
                                <div class="slds-icon_container_circle slds-icon-standard-endorsement slds-icon_container"
                                    style="background-color: #c9a697;">
                                    <lightning-icon icon-name="utility:internal_share" alternative-text="share"
                                        size="x-small" title="large size"
                                        style="background-color:#c9a697;"></lightning-icon>
                                </div>
                            </div>
                            <div
                                class="slds-col slds-size_1-of-12 slds-p-horizontal_small slds-m-left_small slds-m-top_xx-small">
                                {ct.shared_count__c}
                            </div>
                            <div class="slds-col slds-size_1-of-12 slds-p-horizontal_small">
                                <lightning-icon icon-name="action:preview" size="xx-small"
                                    style="background-color: #fe8f60;"></lightning-icon>
                            </div>
                            <div
                                class="slds-col slds-size_1-of-12 slds-p-horizontal_small slds-m-left_small slds-m-top_xx-small">
                                {ct.views_count__c}
                            </div>
                        </div>
                        <template if:true={visblityPlay}>
                            <div class="slds-grid slds-wrap slds-p-vertical_small">
                                <div class="slds-col slds-size_1-of-12"></div>
                                <div class="slds-col slds-size_5-of-12">
                                    <div style="width:10rem">
                                        <div class="slds-file slds-file_card">
                                            <p>
                                                <b>
                                                    Document Title:
                                                </b>
                                                {item.document_title__c}
                                            </p>
                                            <p>
                                                <b>
                                                    Document discription:
                                                </b>
                                                {item.document_description__c}
                                            </p>
                                            <p>
                                                <b>
                                                    Opportunity StageName:
                                                </b>
                                                {item.opportunity_stage__c}
                                            </p>
                                            <p>
                                                <b>
                                                    Created By:
                                                </b>
                                                {item.CreatedBy.Name}
                                            </p>
                                            <p>
                                                <b>
                                                    Created Date:
                                                </b>
                                                {item.CreatedDate}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="slds-col slds-size_6-of-12">
                                    <div class="slds-text-body_regular">
                                        The quick brown fox jumps over the lazy dog.
                                    </div>
                                </div>
                            </div>
                        </template>
                        <div class="slds-border_bottom">

                        </div>
                    </div>
                </template>
            </template>
        </div>


        <template if:true={NoData}>
            <div class="slds-is-relative slds-p-horizontal_medium">
                <b>
                    No Matching Records Found..!!
                </b>
            </div>
        </template>
    </lightning-card>
</template>