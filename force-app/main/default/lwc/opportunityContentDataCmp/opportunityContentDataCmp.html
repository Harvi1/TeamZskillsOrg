<template>
    <lightning-card title="Show opportunity with content Records" icon-name="standard:account">
        <div class="spinner">
            <template if:true={IsLoading}>
                <lightning-spinner alternative-text="Loading" variant="brand" size="large">
                </lightning-spinner>
            </template>
        </div>
        <!---/Search -->
        <div class="slds-is-relative slds-p-horizontal_medium">
            <!-- <lightning-button-icon icon-name="utility:search" onclick={handleSearchclick} alternative-text="search"
                title="Search" class="input-icon" style="right: 170px;">
            </lightning-button-icon> -->
            <div class="slds-col slds-size_6-of-12 slds-m-bottom--medium">
                <lightning-input type="search" placeholder="Search Contents..." value={keySearch} class="icon-right"
                    onkeyup={handleKeyUp} maxlength="03">
                </lightning-input>
            </div>
        </div>
        <br>
        <template if:true={onsearchHiderecord}>
            <template for:each={records} for:item="ct">
                <div key={ct.id}>
                    <div class="slds-grid slds-wrap" style="margin-top: 10px;">
                        <div class="slds-col slds-size_1-of-12">

                        </div>
                        <div class="slds-col slds-size_1-of-12">
                            {addheadericon}
                        </div>
                        <div class="slds-col slds-size_8-of-12">
                            <div class="slds-text-heading_medium slds-m-left_x-medium">
                                {ct.content_tags__c} {ct.opportunity_stage__c}
                            </div>
                        </div>
                        <div class="slds-col slds-size_2-of-12">
                            <lightning-button-icon icon-name={iconName1} variant="bare" alternative-text="chevrondown"
                                onclick={playReducehandleClick}>
                            </lightning-button-icon>
                        </div>
                    </div>
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_2-of-12">
                            <h1>

                            </h1>
                        </div>
                        <div class="slds-col slds-size_2-of-12" style="color: #c9c7c5;">
                            <h3 class="header">
                                Last Updated:
                            </h3>
                        </div>
                        <div class="slds-col slds-size_8-of-12" style="color: #c9c7c5;">
                            <lightning-formatted-date-time title="Last Updated" value={ct.time_last_edited__c}
                                year="numeric" month="numeric" day="numeric" hour="2-digit" minute="2-digit"
                                time-zone-name="short" time-zone="America/New_York">
                            </lightning-formatted-date-time>
                        </div>
                    </div>
                    <div class="slds-grid slds-wrap slds-p-vertical_small">
                        <div class="slds-col slds-size_1-of-12">

                        </div>
                        <div class="slds-col slds-size_1-of-12">
                            {addAnnouncementIcon}
                        </div>
                        <div class="slds-col slds-size_1-of-12">
                            <b>
                                Like
                            </b>
                            {ct.thumbs_count__c}
                        </div>
                        <div class="slds-col slds-size_1-of-12">
                            {addAnnouncementIcon}
                        </div>
                        <div class="slds-col slds-size_1-of-12">
                            <b>
                                Recomm.
                            </b>
                            {ct.recommended_count__c}
                        </div>
                        <div class="slds-col slds-size_1-of-12">
                            {addAnnouncementIcon}
                        </div>
                        <div class="slds-col slds-size_1-of-12">
                            <b>
                                Shared
                            </b>
                            {ct.shared_count__c}
                        </div>
                        <div class="slds-col slds-size_1-of-12">
                            {addPreviewIcon}
                        </div>
                        <div class="slds-col slds-size_1-of-12">
                            <b>
                                Viewed
                            </b>
                            {ct.views_count__c}
                        </div>
                    </div>
                    <template if:true={visblityPlay}>
                        <div class="slds-grid slds-wrap slds-p-vertical_small">
                            <div class="slds-col slds-size_1-of-12"></div>
                            <div class="slds-col slds-size_5-of-12">
                                <div style="width:10rem">
                                    <div class="slds-file slds-file_card">
                                        <p>
                                            <b>
                                                Document Title:
                                            </b>
                                            {item.document_title__c}
                                        </p>
                                        <p>
                                            <b>
                                                Document discription:
                                            </b>
                                            {item.document_description__c}
                                        </p>
                                        <p>
                                            <b>
                                                Opportunity StageName:
                                            </b>
                                            {item.opportunity_stage__c}
                                        </p>
                                        <p>
                                            <b>
                                                Created By:
                                            </b>
                                            {item.CreatedBy.Name}
                                        </p>
                                        <p>
                                            <b>
                                                Created Date:
                                            </b>
                                            {item.CreatedDate}
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="slds-col slds-size_6-of-12">
                                <div class="slds-text-body_regular">
                                    The quick brown fox jumps over the lazy dog.
                                </div>
                            </div>
                        </div>
                    </template>
                    <div class="slds-border_bottom">

                    </div>
                </div>
            </template>
        </template>

        <template if:true={onsearchshowrecord}>

            <div class="scrollContainer" onscroll={handleScroll}>
                <div class="scrollArea">
                    <template for:each={records} for:item="ct">
                        <div key={ct.id}>
                            <div class="slds-grid slds-wrap" style="margin-top: 10px;">
                                <div class="slds-col slds-size_1-of-12">

                                </div>
                                <div class="slds-col slds-size_1-of-12">
                                    {addheadericon}
                                </div>
                                <div class="slds-col slds-size_8-of-12">
                                    <div class="slds-text-heading_medium slds-m-left_x-medium">
                                        {ct.content_tags__c} {ct.opportunity_stage__c}
                                    </div>
                                </div>
                                <div class="slds-col slds-size_2-of-12">
                                    <lightning-button-icon icon-name={iconName1} variant="bare"
                                        alternative-text="chevrondown" onclick={playReducehandleClick}>
                                    </lightning-button-icon>
                                </div>
                            </div>
                            <div class="slds-grid slds-wrap">
                                <div class="slds-col slds-size_2-of-12">
                                    <h1>

                                    </h1>
                                </div>
                                <div class="slds-col slds-size_2-of-12" style="color: #c9c7c5;">
                                    <h3 class="header">
                                        Last Updated:
                                    </h3>
                                </div>
                                <div class="slds-col slds-size_8-of-12" style="color: #c9c7c5;">
                                    <lightning-formatted-date-time title="Last Updated" value={ct.time_last_edited__c}
                                        year="numeric" month="numeric" day="numeric" hour="2-digit" minute="2-digit"
                                        time-zone-name="short" time-zone="America/New_York">
                                    </lightning-formatted-date-time>
                                </div>
                            </div>
                            <div class="slds-grid slds-wrap slds-p-vertical_small">
                                <div class="slds-col slds-size_1-of-12">

                                </div>
                                <div class="slds-col slds-size_1-of-12">
                                    {addAnnouncementIcon}
                                </div>
                                <div class="slds-col slds-size_1-of-12">
                                    <b>
                                        Like
                                    </b>
                                    {ct.thumbs_count__c}
                                </div>
                                <div class="slds-col slds-size_1-of-12">
                                    {addAnnouncementIcon}
                                </div>
                                <div class="slds-col slds-size_1-of-12">
                                    <b>
                                        Recomm.
                                    </b>
                                    {ct.recommended_count__c}
                                </div>
                                <div class="slds-col slds-size_1-of-12">
                                    {addAnnouncementIcon}
                                </div>
                                <div class="slds-col slds-size_1-of-12">
                                    <b>
                                        Shared
                                    </b>
                                    {ct.shared_count__c}
                                </div>
                                <div class="slds-col slds-size_1-of-12">
                                    {addPreviewIcon}
                                </div>
                                <div class="slds-col slds-size_1-of-12">
                                    <b>
                                        Viewed
                                    </b>
                                    {ct.views_count__c}
                                </div>
                            </div>
                            <template if:true={visblityPlay}>
                                <div class="slds-grid slds-wrap slds-p-vertical_small">
                                    <div class="slds-col slds-size_1-of-12"></div>
                                    <div class="slds-col slds-size_5-of-12">
                                        <div style="width:10rem">
                                            <div class="slds-file slds-file_card">
                                                <p>
                                                    <b>
                                                        Document Title:
                                                    </b>
                                                    {item.document_title__c}
                                                </p>
                                                <p>
                                                    <b>
                                                        Document discription:
                                                    </b>
                                                    {item.document_description__c}
                                                </p>
                                                <p>
                                                    <b>
                                                        Opportunity StageName:
                                                    </b>
                                                    {item.opportunity_stage__c}
                                                </p>
                                                <p>
                                                    <b>
                                                        Created By:
                                                    </b>
                                                    {item.CreatedBy.Name}
                                                </p>
                                                <p>
                                                    <b>
                                                        Created Date:
                                                    </b>
                                                    {item.CreatedDate}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-col slds-size_6-of-12">
                                        <div class="slds-text-body_regular">
                                            The quick brown fox jumps over the lazy dog.
                                        </div>
                                    </div>
                                </div>
                            </template>
                            <div class="slds-border_bottom">

                            </div>
                        </div>
                    </template>
                </div>
            </div>

        </template>
        <template if:true={NoData}>
            <div class="slds-is-relative slds-p-horizontal_medium">
                <b>
                    No Matching Records Found..!!
                </b>
            </div>
        </template>
    </lightning-card>
</template>